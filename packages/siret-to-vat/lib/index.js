"use strict";module.exports=a=>{if(!["string","number"].includes(typeof a))return{vatNumber:a,message:`Expected a number or string number but got a ${typeof a}`,valid:!1};const b=a.toString().replace(/\s/g,"");switch(b.length){case 9:return{vatNumber:getVatNumber(b),valid:!0};case 14:const c=checkAndConvertSiret(b);return c.valid?{vatNumber:getVatNumber(c.siren),valid:!0}:{vatNumber:a,message:c.message,valid:!1};default:return{vatNumber:a,message:"The number provided must be a SIREN (9 caracters) or SIREN (14 caracters)",valid:!1};}};const checkAndConvertSiret=a=>{let b=0,c=!1;for(let d,e=13;0<=e;e--)d=parseInt(a[e],10),c&&9<(d*=2)&&(d-=9),b+=d,c=!c;return 0==b%10?{valid:!0,siren:a.substring(0,9)}:{valid:!1,message:"The SIRET provided is not valid",siren:a}},getVatNumber=a=>{return`FR${(12+3*(a%97))%97}${a}`};module.exports.checkAndConvertSiret=checkAndConvertSiret,module.exports.getVatNumber=getVatNumber;